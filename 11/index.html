<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Web Hackathon Seminar</title>

		<meta name="description" content="Web Hackathon Seminar - 11">
		<meta name="author" content="C. T. Lin">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="node_modules/prismjs/themes/prism.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<style>
.reveal pre code { max-height: 500px !important;}
a { color: white !important; text-decoration: underline !important;}
		</style>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-background="#b5533c">
					<h1>Web Hackathon Seminar </h1>
					<h3>11</h3>
					<p>
						<small>database/sql</small>
					</p>
				</section>

				<section data-transition="slide" data-background="#4d7e65">
					<p style="font-size: 2em">Database</p>
					<img src="img/db.png" style="background-color: white" />
				</section>

				<section data-transition="slide" data-background="#b5533c">
					<p style="font-size: 2em">DBMS</p>
					<p>Database Manage System</p>
					<img src="img/database.png" style="background-color: white" />
				</section>

				<section data-transition="slide" data-background="#4d7e65">
					<p>Database 的發展已經有超過 50 年以上</p>
					<p>比較詳細的可以看<a href="https://speakerdeck.com/yunglin/nosql-da-chang-hua" target="_blank">NoSQL 大腸花</a></p>
				</section>

				<section data-transition="slide" data-background="#b5533c">
					<section>
						<p style="font-size: 2em">經典款：RDBMS</p>
						<p>Relational Database Management System，關聯式資料庫</p>
					</section>
					<section>
						<p style="font-size: 2em">主流的種類</p>
						<img src="img/sqls.png">
					</section>
					<section>
						<p style="font-size: 2em">許多許多的優點</p>
						<ol>
							<li>資料處理很穩健</li>
							<li>會使用的人多，資源多易學</li>
							<li>歷史悠久，長年效能優化</li>
							<li>可使用 join 等功能，功能性強</li>
						</ol>
					</section>
					<section>
						<p style="font-size: 1.5em">有支援 Transaction 的 ACID 特性</p>
						<ol>
							<li>原子性 (atomicity)：transaction 中的所有操作，要麼全部完成，要麼全部不完成。發生錯誤，會被 rollback</li>
							<li>一致性 (consistency)：寫入的資料必須完全符合所有的預設規則，包含資料的精確度等等</li>
							<li>隔離性 (isolation)：當兩個或者多個 transition 同時進行（查詢或修改）資料庫的同一數據時所表現出的相互關係</li>
							<li>持久性 (durability)：對資料庫所作的改變持久地保存在資料庫之中</li>
						</ol>
					</section>
					<section>
						<p style="font-size: 2em">但是...</p>
					</section>
					<section>
						<p>即便長年下來 SQL 衍伸出很多</p>
						<p>垂直分割、讀寫分離等等等技術</p>
						<p>但遇到某些狀況還是不適合用 SQL 處理..</p>
					</section>
				</section>

				<section data-transition="slide" data-background="#4d7e65">
					<section>
						<p style="font-size: 2em">CAP</p>
					</section>
					<section>
						<img src="img/cap.png" />
					</section>
					<section>
						<ul>
							<li>Consistency 一致性</li>
							<li>Availability 可用性</li>
							<li>Partition tolerance 分區容忍</li>
						</ul>
						<p>Wiki: 根據定理，分布式系統只能滿足三項中的兩項而不可能滿足全部三項。理解CAP理論的最簡單方式是想像兩個節點分處分區兩側。允許至少一個節點更新狀態會導致數據不一致，即喪失了C性質。如果為了保證數據一致性，將分區一側的節點設置為不可用，那麼又喪失了A性質。除非兩個節點可以互相通信，才能既保證C又保證A，這又會導致喪失P性質。</p>
					</section>
					<section>
						<img src="img/other-cap.png" />
					</section>
					<section>
						<img src="img/circle.jpg" />
					</section>
				</section>

				<section data-transition="slide" data-background="#b5533c">
					<section>
						<p style="font-size: 2em">NoSQL</p>
						<p>(Not only SQL)</p>
						<p>非關係型、分散式、不提供 ACID 的資料庫設計模式</p>
					</section>
					<section>
						<p style="font-size: 2em">主要分成</p>
						<ul>
							<li>Document</li>
							<li>Graph</li>
							<li>Key-Value</li>
							<li>Column</li>
							<li>Object</li>
						</ul>
					</section>
					<section>
						<img src="img/nosql-type.jpg" />
					</section>
					<section>
						<p>裡面還有一部分是 in-memory database<p/>
						<p>加了持久化策略也可以提供蠻高的可用性<p/>
					</section>
					<section>
						<p style="font-size: 2em">NoSQL 世界地圖</p>
						<img src="img/nosql-map.jpg" />
					</section>
					<section>
						<p>每個功能模組適用的 database 可能都不一樣</p>
						<img src="img/map.png" />
					</section>
					<section>
						<p style="font-size: 2em">資源：</p>
						<ul>
							<li>Mongodb:<a href="https://university.mongodb.com/" target="_blank">Mongo University</a></li>
							<li>Redis:<a href="http://try.redis.io/" target="_blank">Try Redis</a></li>
							<li>Neo4j:<a href="http://console.neo4j.org/" target="_blank">Neo4j</a></li>
						</ul>
					</section>
				</section>

				<section data-transition="slide" data-background="#4d7e65">
					<p style="font-size: 2em">Relationship</p>
					<img src="img/table.jpg" />
				</section>

				<section data-transition="slide" data-background="#4d7e65">
					<section>
						<p style="font-size: 2em">One to Many</p>
					</section>
					<section>
						<p>通常會有一個 foreign key 關聯到另一個表的 PK</p>
						<img src="img/one-to-many.png" />
					</section>
				</section>

				<section data-transition="slide" data-background="#b5533c">
					<section>
						<p style="font-size: 2em">Many to Many</p>
					</section>
					<section>
						<p>中間需要有 Pivot Table 記錄兩邊的 PK</p>
						<img src="img/many-to-many.png" />
					</section>
				</section>

				<section data-transition="slide" data-background="#4d7e65" style="text-align: left;">
					<h1>THE END</h1>
					<p>Thanks for listening</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				slideNumber: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'node_modules/prismjs/prism.js'},
                    { src: 'node_modules/prismjs/components/prism-bash.min.js'},
                    { src: 'node_modules/prismjs/plugins/autolinker/prism-autolinker.min.js'},
                    { src: 'node_modules/prismjs/components/prism-javascript.min.js', async: true, callback: function() {
                    		Prism.highlightAll();
                    	}
                    },
					// { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() {
					// 	hljs.initHighlightingOnLoad(); }
					// },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});
		</script>

	</body>
</html>
